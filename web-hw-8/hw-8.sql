-- teacher --

CREATE TABLE IF NOT EXISTS teacher (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	full_name VARCHAR(30) UNIQUE NOT NULL
);

INSERT OR REPLACE INTO teacher(full_name)
VALUES ('Vladimir Hayes'),
('Jason Long'),
('Frieda Evans')
returning *;


-- subject --

CREATE TABLE IF NOT EXISTS subject (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	subject_name VARCHAR(30) UNIQUE NOT NULL
);

INSERT OR REPLACE INTO subject (subject_name)
VALUES ('Physics'),
('Chemistry'),
('English'),
('Economy'),
('Law basics')
returning *;


-- group --

CREATE TABLE IF NOT EXISTS groups (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	group_name VARCHAR(30) UNIQUE NOT NULL,
	group_year TINYINT NOT NULL
);

INSERT OR REPLACE INTO groups (group_name, group_year)
VALUES ('G-1', 2020),
('G-2', 2020),
('G-3', 2020)
returning *;


-- teacher_subject --

CREATE TABLE IF NOT EXISTS teacher_subject (
	id_teacher INTEGER NOT NULL,
	id_subject INTEGER NOT NULL,
    foreign key (id_teacher) references teacher (id)
    	on update cascade,
    foreign key (id_subject) references subject (id)
    	on update cascade
);

INSERT OR REPLACE into teacher_subject (id_teacher, id_subject)
VALUES (1, 1),
(1, 2),
(2, 3),
(3, 4),
(3, 5),
(2, 5)
returning *;


-- student --

CREATE TABLE IF NOT EXISTS student (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	full_name VARCHAR(30) UNIQUE NOT NULL,
	id_group INTEGER NOT NULL,
	foreign key (id_group) references groups (id)
    	on update cascade
);

INSERT OR REPLACE into student (full_name, id_group)
VALUES ('Adam Chase', 1),
('Belinda Sanders', 1),
('Elaina Bennett', 1),
('Floss Perez', 1),
('Gretchen Henderson', 1),
('Greyson Brooks', 1),
('Ilan Peterson', 1),
('Isidro Bailey', 1),
('Izaak Simmons', 1),
('Jenna Sanchez', 1),
('Josue Cook', 2),
('Kira James', 2),
('Kira James', 2),
('Kyra Sanders', 2),
('Layton Hill', 2),
('Liliana Johnson', 2),
('Margot Harris', 2),
('Miriam Wood', 2),
('Noah Peterson', 2),
('Oshea Nelson', 2),
('Paulette Henderson', 3),
('Philip Peterson', 3),
('Quinlan Johnson', 3),
('Quinnton Barnes', 3),
('Raelyn Sanders', 3),
('Raelynn Campbell', 3),
('Terrance Foster', 3),
('Verney Powell', 3),
('Yasir Robinson', 3),
('Zoee Murphy', 3)
returning *;


-- student_subject --

CREATE TABLE IF NOT EXISTS student_subject (
	id_student INTEGER,
	id_subject INTEGER,
    foreign key (id_student) references student (id)
    	on update cascade,
    foreign key (id_subject) references subject (id)
    	on update cascade
);

INSERT OR REPLACE into student_subject (id_student, id_subject)
VALUES (1, 1),
(1, 2),
(1, 4),
(1, 5),

(2, 1),
(2, 2),
(2, 3),
(2, 4),
(2, 5),

(3, 2),
(3, 3),
(3, 4),
(3, 5),

(4, 1),
(4, 2),
(4, 3),
(4, 4),
(4, 5),

(5, 1),
(5, 2),
(5, 5),

(6, 1),
(6, 3),
(6, 4),
(6, 5),

(7, 1),
(7, 3),
(7, 5),

(8, 1),
(8, 5),

(9, 2),
(9, 4),

(10, 1),
(10, 3),
(10, 4),

(11, 1),
(11, 2),
(11, 3),
(11, 5),

(12, 1),
(12, 3),
(12, 4),

(13, 2),
(13, 3),
(13, 5),

(14, 1),
(14, 2),
(14, 3),
(14, 5),

(15, 1),
(15, 2),
(15, 3),
(15, 4),
(15, 5),

(16, 1),
(16, 2),
(16, 3),
(16, 5),

(17, 1),
(17, 2),
(17, 3),
(17, 4),
(17, 5),

(18, 1),
(18, 3),
(18, 4),

(19, 1),
(19, 2),
(19, 4),
(19, 5),

(20, 1),
(20, 3),
(20, 4),
(20, 5),

(21, 1),
(21, 2),
(21, 3),
(21, 4),
(21, 5),

(22, 2),
(22, 3),
(22, 4),

(23, 1),
(23, 2),
(23, 3),
(23, 4),
(23, 5),

(24, 2),
(24, 5),

(25, 1),
(25, 2),

(26, 1),
(26, 2),
(26, 3),
(26, 4),
(26, 5),

(27, 1),
(27, 2),
(27, 3),
(27, 4),

(28, 3),
(28, 4),

(29, 2),
(29, 3),
(29, 4),
(29, 5),

(30, 1),
(30, 2),
(30, 5)
returning *;


-- mark --

CREATE TABLE IF NOT EXISTS mark (
	id INTEGER PRIMARY KEY AUTOINCREMENT,
	mark INTEGER NOT NULL,
	id_student INTEGER NOT NULL,
	id_subject INTEGER NOT NULL,
	id_teacher INTEGER NOT NULL,
	mark_date date default current_date,
	foreign key (id_student) references student (id)
    	on update cascade,
    foreign key (id_subject) references subject (id)
    	on update cascade,
    foreign key (id_teacher) references teacher (id)
    	on update cascade
);

INSERT OR REPLACE into mark (mark, id_student, id_subject, id_teacher, mark_date)
VALUES (47, 1, 2, 1, '2020-09-09'),
(2, 1, 2, 1, '2020-09-14'),
(27, 1, 2, 1, '2020-09-20'),
(43, 1, 5, 3, '2020-10-20'),
(95, 1, 5, 3, '2020-10-29'),
(92, 1, 5, 3, '2020-11-06'),
(100, 1, 1, 1, '2020-11-21'),
(8, 1, 5, 3, '2020-11-28'),
(58, 1, 2, 1, '2020-12-31'),
(70, 1, 4, 3, '2021-01-16'),
(41, 1, 4, 3, '2021-02-01'),
(44, 1, 2, 1, '2021-02-09'),
(43, 1, 4, 3, '2021-02-26'),
(97, 1, 2, 1, '2021-03-02'),
(5, 1, 1, 1, '2021-03-08'),
(95, 1, 4, 3, '2021-03-24'),
(96, 1, 4, 3, '2021-03-24'),
(23, 1, 2, 1, '2021-04-08'),
(98, 1, 1, 1, '2021-04-16'),
(31, 1, 1, 1, '2021-04-22'),

(45, 2, 3, 2, '2020-09-04'),
(74, 2, 4, 3, '2020-09-17'),
(18, 2, 4, 3, '2020-09-25'),
(92, 2, 4, 3, '2020-10-29'),
(14, 2, 2, 1, '2020-11-05'),
(83, 2, 4, 3, '2020-11-14'),
(88, 2, 2, 1, '2020-11-17'),
(29, 2, 1, 1, '2020-12-07'),
(10, 2, 1, 1, '2020-12-11'),
(75, 2, 5, 3, '2020-12-18'),
(100, 2, 3, 2, '2021-01-11'),
(19, 2, 1, 1, '2021-01-24'),
(39, 2, 4, 3, '2021-01-30'),
(79, 2, 5, 3, '2021-01-30'),
(47, 2, 3, 2, '2021-03-08'),
(37, 2, 5, 3, '2021-04-13'),
(25, 2, 1, 1, '2021-04-14'),
(55, 2, 4, 3, '2021-05-04'),
(83, 2, 2, 1, '2021-05-08'),
(2, 2, 1, 1, '2021-05-21'),

(4, 3, 5, 3, '2020-09-01'),
(17, 3, 3, 2, '2020-09-16'),
(67, 3, 2, 1, '2020-10-05'),
(95, 3, 3, 2, '2020-10-27'),
(86, 3, 2, 1, '2020-11-11'),
(89, 3, 4, 3, '2020-11-11'),
(42, 3, 2, 1, '2020-12-06'),
(100, 3, 3, 2, '2020-12-18'),
(72, 3, 4, 3, '2021-01-26'),
(99, 3, 5, 3, '2021-02-06'),
(100, 3, 2, 1, '2021-02-08'),
(97, 3, 5, 3, '2021-03-07'),
(6, 3, 4, 3, '2021-03-09'),
(3, 3, 4, 3, '2021-03-13'),
(93, 3, 4, 3, '2021-03-24'),
(64, 3, 4, 3, '2021-03-25'),
(26, 3, 5, 3, '2021-04-12'),
(93, 3, 2, 1, '2021-04-16'),
(94, 3, 3, 2, '2021-05-04'),
(83, 3, 3, 2, '2021-05-28'),

(11, 4, 1, 1, '2020-09-16'),
(21, 4, 4, 3, '2020-10-03'),
(31, 4, 5, 3, '2020-10-24'),
(15, 4, 1, 1, '2020-11-15'),
(74, 4, 1, 1, '2020-12-23'),
(54, 4, 5, 3, '2020-12-26'),
(17, 4, 1, 1, '2021-01-02'),
(88, 4, 5, 3, '2021-01-07'),
(3, 4, 5, 3, '2021-01-09'),
(68, 4, 3, 2, '2021-03-01'),
(6, 4, 4, 3, '2021-03-07'),
(56, 4, 4, 3, '2021-03-13'),
(4, 4, 3, 2, '2021-04-09'),
(34, 4, 4, 3, '2021-04-14'),
(34, 4, 3, 2, '2021-04-15'),
(92, 4, 3, 2, '2021-04-16'),
(33, 4, 5, 3, '2021-04-18'),
(40, 4, 4, 3, '2021-05-07'),
(25, 4, 1, 1, '2021-05-24'),
(29, 4, 5, 3, '2021-05-28'),

(28, 5, 1, 1, '2020-09-24'),
(38, 5, 1, 1, '2020-10-08'),
(36, 5, 5, 3, '2020-11-07'),
(76, 5, 1, 1, '2020-11-27'),
(89, 5, 2, 1, '2020-12-04'),
(13, 5, 1, 1, '2020-12-07'),
(66, 5, 1, 1, '2020-12-22'),
(73, 5, 2, 1, '2021-01-04'),
(70, 5, 1, 1, '2021-01-23'),
(54, 5, 1, 1, '2021-02-04'),
(48, 5, 2, 1, '2021-02-23'),
(75, 5, 2, 1, '2021-03-14'),
(85, 5, 5, 3, '2021-03-15'),
(38, 5, 2, 1, '2021-03-20'),
(62, 5, 2, 1, '2021-03-29'),
(53, 5, 2, 1, '2021-03-31'),
(34, 5, 5, 3, '2021-04-13'),
(15, 5, 1, 1, '2021-05-10'),
(34, 5, 5, 3, '2021-05-13'),
(71, 5, 5, 3, '2021-05-27'),

(55, 6, 1, 1, '2020-09-02'),
(7, 6, 3, 2, '2020-10-17'),
(50, 6, 4, 3, '2020-10-23'),
(27, 6, 4, 3, '2020-10-31'),
(22, 6, 3, 2, '2020-12-12'),
(1, 6, 5, 3, '2020-12-13'),
(89, 6, 1, 1, '2021-01-05'),
(29, 6, 3, 2, '2021-01-07'),
(22, 6, 1, 1, '2021-01-08'),
(22, 6, 3, 2, '2021-01-19'),
(60, 6, 5, 3, '2021-02-01'),
(70, 6, 4, 3, '2021-02-18'),
(95, 6, 1, 1, '2021-03-10'),
(99, 6, 5, 3, '2021-03-15'),
(44, 6, 4, 3, '2021-03-29'),
(20, 6, 1, 1, '2021-04-15'),
(49, 6, 1, 1, '2021-05-04'),
(78, 6, 3, 2, '2021-05-09'),
(31, 6, 5, 3, '2021-05-15'),
(30, 6, 1, 1, '2021-05-28'),

(13, 7, 3, 2, '2020-09-26'),
(78, 7, 5, 3, '2020-09-27'),
(54, 7, 5, 3, '2020-10-29'),
(45, 7, 3, 2, '2020-11-11'),
(12, 7, 1, 1, '2020-12-01'),
(97, 7, 3, 2, '2020-12-03'),
(53, 7, 1, 1, '2020-12-17'),
(79, 7, 1, 1, '2021-01-16'),
(6, 7, 1, 1, '2021-01-22'),
(13, 7, 3, 2, '2021-01-29'),
(4, 7, 3, 2, '2021-03-02'),
(76, 7, 5, 3, '2021-03-10'),
(96, 7, 3, 2, '2021-03-17'),
(6, 7, 3, 2, '2021-04-11'),
(30, 7, 3, 2, '2021-04-13'),
(82, 7, 1, 1, '2021-04-15'),
(25, 7, 3, 2, '2021-05-02'),
(17, 7, 3, 2, '2021-05-07'),
(37, 7, 1, 1, '2021-05-19'),
(86, 7, 3, 2, '2021-05-26'),

(35, 8, 1, 1, '2020-09-07'),
(13, 8, 1, 1, '2020-09-12'),
(89, 8, 5, 3, '2020-09-14'),
(70, 8, 5, 3, '2020-09-29'),
(98, 8, 1, 1, '2020-10-11'),
(69, 8, 1, 1, '2020-10-24'),
(44, 8, 5, 3, '2020-10-25'),
(90, 8, 5, 3, '2020-11-04'),
(49, 8, 1, 1, '2020-11-21'),
(19, 8, 5, 3, '2021-01-10'),
(2, 8, 1, 1, '2021-02-02'),
(43, 8, 5, 3, '2021-02-11'),
(96, 8, 5, 3, '2021-02-28'),
(79, 8, 5, 3, '2021-03-21'),
(99, 8, 1, 1, '2021-03-24'),
(98, 8, 5, 3, '2021-03-27'),
(31, 8, 5, 3, '2021-04-06'),
(17, 8, 5, 3, '2021-04-22'),
(25, 8, 5, 3, '2021-05-19'),
(75, 8, 5, 3, '2021-05-21'),

(76, 9, 2, 1, '2020-09-02'),
(46, 9, 4, 3, '2020-09-17'),
(45, 9, 4, 3, '2020-10-31'),
(44, 9, 2, 1, '2020-11-02'),
(40, 9, 2, 1, '2020-11-11'),
(4, 9, 4, 3, '2020-11-15'),
(84, 9, 4, 3, '2020-11-29'),
(95, 9, 4, 3, '2020-12-01'),
(68, 9, 2, 1, '2020-12-14'),
(27, 9, 2, 1, '2021-01-03'),
(57, 9, 4, 3, '2021-02-03'),
(28, 9, 2, 1, '2021-02-05'),
(8, 9, 4, 3, '2021-02-27'),
(68, 9, 4, 3, '2021-03-18'),
(83, 9, 2, 1, '2021-04-16'),
(94, 9, 4, 3, '2021-04-23'),
(22, 9, 4, 3, '2021-05-06'),
(28, 9, 4, 3, '2021-05-12'),
(3, 9, 2, 1, '2021-05-13'),
(6, 9, 2, 1, '2021-05-14'),

(52, 10, 1, 1, '2020-09-19'),
(92, 10, 1, 1, '2020-10-25'),
(97, 10, 3, 2, '2020-11-03'),
(29, 10, 4, 3, '2020-11-14'),
(42, 10, 1, 1, '2020-12-13'),
(36, 10, 4, 3, '2020-12-30'),
(35, 10, 4, 3, '2021-01-01'),
(71, 10, 3, 2, '2021-01-08'),
(22, 10, 1, 1, '2021-02-14'),
(51, 10, 4, 3, '2021-02-14'),
(34, 10, 3, 2, '2021-02-20'),
(4, 10, 3, 2, '2021-02-28'),
(80, 10, 4, 3, '2021-03-01'),
(25, 10, 1, 1, '2021-03-01'),
(36, 10, 4, 3, '2021-03-02'),
(16, 10, 3, 2, '2021-03-23'),
(35, 10, 4, 3, '2021-04-04'),
(14, 10, 4, 3, '2021-04-19'),
(67, 10, 4, 3, '2021-04-27'),
(84, 10, 1, 1, '2021-05-15'),

(51, 11, 3, 2, '2020-09-04'),
(81, 11, 5, 3, '2020-09-11'),
(48, 11, 5, 3, '2020-09-12'),
(84, 11, 3, 2, '2020-09-16'),
(42, 11, 3, 2, '2020-09-16'),
(74, 11, 3, 2, '2020-09-22'),
(60, 11, 5, 3, '2020-10-03'),
(96, 11, 1, 1, '2020-12-20'),
(64, 11, 1, 1, '2020-12-27'),
(29, 11, 3, 2, '2021-01-03'),
(68, 11, 1, 1, '2021-01-13'),
(25, 11, 2, 1, '2021-01-18'),
(63, 11, 1, 1, '2021-01-22'),
(7, 11, 5, 3, '2021-03-09'),
(44, 11, 2, 1, '2021-04-15'),
(23, 11, 2, 1, '2021-04-19'),
(49, 11, 3, 2, '2021-04-26'),
(23, 11, 1, 1, '2021-05-20'),
(6, 11, 2, 1, '2021-05-23'),
(6, 11, 2, 1, '2021-05-25'),

(34, 12, 3, 2, '2020-09-05'),
(71, 12, 1, 1, '2020-09-10'),
(35, 12, 4, 3, '2020-10-06'),
(92, 12, 3, 2, '2020-10-16'),
(85, 12, 3, 2, '2020-10-25'),
(26, 12, 3, 2, '2020-11-22'),
(83, 12, 4, 3, '2020-12-04'),
(27, 12, 1, 1, '2020-12-10'),
(49, 12, 4, 3, '2020-12-16'),
(60, 12, 3, 2, '2020-12-21'),
(73, 12, 3, 2, '2020-12-24'),
(74, 12, 3, 2, '2021-01-02'),
(39, 12, 4, 3, '2021-01-21'),
(71, 12, 4, 3, '2021-01-23'),
(62, 12, 1, 1, '2021-02-06'),
(9, 12, 1, 1, '2021-03-14'),
(91, 12, 3, 2, '2021-04-09'),
(56, 12, 3, 2, '2021-05-12'),
(7, 12, 1, 1, '2021-05-13'),
(90, 12, 1, 1, '2021-05-17'),

(96, 13, 3, 2, '2020-09-06'),
(22, 13, 2, 1, '2020-09-15'),
(96, 13, 3, 2, '2020-09-17'),
(100, 13, 5, 3, '2020-09-30'),
(71, 13, 5, 3, '2020-10-03'),
(28, 13, 5, 3, '2020-10-20'),
(24, 13, 5, 3, '2020-11-17'),
(72, 13, 3, 2, '2021-01-05'),
(75, 13, 3, 2, '2021-01-20'),
(3, 13, 5, 3, '2021-01-23'),
(18, 13, 5, 3, '2021-01-27'),
(65, 13, 3, 2, '2021-01-27'),
(74, 13, 5, 3, '2021-02-05'),
(24, 13, 2, 1, '2021-02-21'),
(56, 13, 3, 2, '2021-03-07'),
(43, 13, 3, 2, '2021-05-18'),
(93, 13, 5, 3, '2021-05-20'),
(85, 13, 3, 2, '2021-05-21'),
(42, 13, 5, 3, '2021-05-26'),
(93, 13, 5, 3, '2021-05-28'),

(16, 14, 2, 1, '2020-09-10'),
(10, 14, 2, 1, '2020-09-12'),
(93, 14, 3, 2, '2020-09-29'),
(51, 14, 5, 3, '2020-10-23'),
(88, 14, 2, 1, '2020-10-31'),
(27, 14, 5, 3, '2020-11-07'),
(51, 14, 1, 1, '2020-12-17'),
(30, 14, 5, 3, '2020-12-29'),
(80, 14, 1, 1, '2021-01-11'),
(72, 14, 2, 1, '2021-01-30'),
(76, 14, 5, 3, '2021-03-09'),
(82, 14, 2, 1, '2021-03-13'),
(30, 14, 5, 3, '2021-03-24'),
(24, 14, 1, 1, '2021-04-02'),
(41, 14, 5, 3, '2021-04-10'),
(84, 14, 2, 1, '2021-04-12'),
(58, 14, 1, 1, '2021-04-15'),
(50, 14, 5, 3, '2021-04-28'),
(30, 14, 3, 2, '2021-05-04'),
(7, 14, 3, 2, '2021-05-21'),

(41, 15, 1, 1, '2020-09-02'),
(82, 15, 2, 1, '2020-09-04'),
(88, 15, 3, 2, '2020-09-27'),
(36, 15, 2, 1, '2020-09-30'),
(14, 15, 4, 3, '2020-10-24'),
(20, 15, 3, 2, '2020-10-29'),
(68, 15, 3, 2, '2020-11-06'),
(42, 15, 1, 1, '2020-11-07'),
(91, 15, 5, 3, '2020-11-14'),
(93, 15, 4, 3, '2020-12-13'),
(74, 15, 3, 2, '2020-12-19'),
(95, 15, 3, 2, '2020-12-28'),
(25, 15, 3, 2, '2021-01-11'),
(79, 15, 2, 1, '2021-02-02'),
(25, 15, 5, 3, '2021-03-04'),
(91, 15, 3, 2, '2021-03-22'),
(3, 15, 2, 1, '2021-03-27'),
(81, 15, 5, 3, '2021-04-08'),
(2, 15, 1, 1, '2021-04-09'),
(4, 15, 1, 1, '2021-05-28'),

(48, 16, 3, 2, '2020-09-17'),
(63, 16, 1, 1, '2020-10-08'),
(66, 16, 2, 1, '2020-10-20'),
(46, 16, 3, 2, '2020-12-13'),
(100, 16, 5, 3, '2020-12-26'),
(42, 16, 2, 1, '2021-01-13'),
(21, 16, 5, 3, '2021-01-20'),
(43, 16, 1, 1, '2021-02-14'),
(39, 16, 3, 2, '2021-02-19'),
(57, 16, 2, 1, '2021-03-05'),
(92, 16, 1, 1, '2021-03-20'),
(28, 16, 5, 3, '2021-03-24'),
(28, 16, 2, 1, '2021-04-04'),
(39, 16, 5, 3, '2021-04-07'),
(39, 16, 5, 3, '2021-05-07'),
(81, 16, 3, 2, '2021-05-13'),
(87, 16, 2, 1, '2021-05-14'),
(17, 16, 2, 1, '2021-05-17'),
(42, 16, 3, 2, '2021-05-28'),
(68, 16, 5, 3, '2021-05-28'),

(21, 17, 1, 1, '2020-09-10'),
(20, 17, 5, 3, '2020-09-22'),
(50, 17, 4, 3, '2020-09-26'),
(1, 17, 2, 1, '2020-09-26'),
(80, 17, 3, 2, '2020-10-14'),
(86, 17, 4, 3, '2020-10-17'),
(96, 17, 1, 1, '2020-11-15'),
(31, 17, 4, 3, '2020-11-22'),
(12, 17, 3, 2, '2020-11-30'),
(45, 17, 4, 3, '2021-01-18'),
(65, 17, 3, 2, '2021-03-06'),
(61, 17, 2, 1, '2021-03-09'),
(100, 17, 1, 1, '2021-03-19'),
(88, 17, 1, 1, '2021-03-28'),
(97, 17, 2, 1, '2021-04-05'),
(5, 17, 3, 2, '2021-04-06'),
(56, 17, 3, 2, '2021-04-08'),
(6, 17, 4, 3, '2021-05-05'),
(2, 17, 3, 2, '2021-05-09'),
(77, 17, 3, 2, '2021-05-26'),

(31, 18, 4, 3, '2020-09-03'),
(23, 18, 4, 3, '2020-09-09'),
(73, 18, 1, 1, '2020-09-24'),
(82, 18, 4, 3, '2020-10-01'),
(33, 18, 1, 1, '2020-10-19'),
(76, 18, 1, 1, '2020-10-26'),
(26, 18, 3, 2, '2020-11-19'),
(57, 18, 4, 3, '2020-12-18'),
(98, 18, 4, 3, '2020-12-21'),
(79, 18, 4, 3, '2020-12-29'),
(35, 18, 3, 2, '2021-01-04'),
(24, 18, 3, 2, '2021-01-09'),
(44, 18, 1, 1, '2021-01-14'),
(29, 18, 3, 2, '2021-02-09'),
(17, 18, 1, 1, '2021-02-18'),
(94, 18, 4, 3, '2021-03-20'),
(97, 18, 1, 1, '2021-04-10'),
(28, 18, 4, 3, '2021-04-19'),
(6, 18, 3, 2, '2021-04-30'),
(96, 18, 4, 3, '2021-05-12'),

(98, 19, 4, 3, '2020-09-02'),
(4, 19, 1, 1, '2020-09-19'),
(83, 19, 4, 3, '2020-09-24'),
(66, 19, 5, 3, '2020-10-07'),
(51, 19, 1, 1, '2020-10-17'),
(5, 19, 5, 3, '2020-11-20'),
(17, 19, 5, 3, '2020-12-03'),
(27, 19, 1, 1, '2020-12-17'),
(83, 19, 4, 3, '2020-12-26'),
(88, 19, 1, 1, '2021-01-07'),
(27, 19, 4, 3, '2021-02-11'),
(65, 19, 4, 3, '2021-03-20'),
(11, 19, 2, 1, '2021-03-24'),
(10, 19, 2, 1, '2021-04-05'),
(86, 19, 5, 3, '2021-04-14'),
(94, 19, 5, 3, '2021-05-06'),
(7, 19, 1, 1, '2021-05-08'),
(76, 19, 4, 3, '2021-05-17'),
(85, 19, 5, 3, '2021-05-24'),
(80, 19, 1, 1, '2021-05-28'),

(16, 20, 1, 1, '2020-09-02'),
(63, 20, 4, 3, '2020-10-20'),
(66, 20, 3, 2, '2020-11-02'),
(21, 20, 4, 3, '2020-12-10'),
(60, 20, 5, 3, '2020-12-17'),
(58, 20, 4, 3, '2020-12-22'),
(94, 20, 5, 3, '2020-12-27'),
(1, 20, 3, 2, '2021-01-12'),
(55, 20, 1, 1, '2021-01-15'),
(13, 20, 5, 3, '2021-01-27'),
(44, 20, 4, 3, '2021-02-01'),
(21, 20, 4, 3, '2021-02-04'),
(31, 20, 3, 2, '2021-02-21'),
(91, 20, 1, 1, '2021-03-13'),
(96, 20, 3, 2, '2021-03-18'),
(2, 20, 3, 2, '2021-04-16'),
(76, 20, 5, 3, '2021-04-20'),
(63, 20, 1, 1, '2021-05-03'),
(15, 20, 3, 2, '2021-05-22'),
(18, 20, 5, 3, '2021-05-28'),

(10, 21, 3, 2, '2020-09-15'),
(36, 21, 1, 1, '2020-09-26'),
(35, 21, 2, 1, '2020-09-29'),
(25, 21, 4, 3, '2020-10-18'),
(21, 21, 5, 3, '2020-10-25'),
(18, 21, 4, 3, '2020-11-03'),
(36, 21, 5, 3, '2020-11-12'),
(77, 21, 3, 2, '2020-11-24'),
(78, 21, 4, 3, '2020-11-28'),
(46, 21, 5, 3, '2020-12-02'),
(24, 21, 5, 3, '2020-12-08'),
(98, 21, 4, 3, '2020-12-09'),
(34, 21, 5, 3, '2020-12-18'),
(53, 21, 4, 3, '2021-01-10'),
(99, 21, 1, 1, '2021-01-29'),
(75, 21, 1, 1, '2021-03-02'),
(4, 21, 3, 2, '2021-03-04'),
(82, 21, 2, 1, '2021-03-28'),
(61, 21, 1, 1, '2021-04-23'),
(16, 21, 4, 3, '2021-05-24'),

(79, 22, 3, 2, '2020-10-11'),
(90, 22, 2, 1, '2020-10-17'),
(70, 22, 4, 3, '2020-10-18'),
(2, 22, 3, 2, '2020-10-22'),
(92, 22, 2, 1, '2020-10-28'),
(28, 22, 3, 2, '2020-11-05'),
(4, 22, 4, 3, '2020-11-24'),
(52, 22, 3, 2, '2020-11-27'),
(65, 22, 4, 3, '2020-12-05'),
(88, 22, 3, 2, '2020-12-28'),
(32, 22, 2, 1, '2020-12-30'),
(76, 22, 3, 2, '2021-01-06'),
(40, 22, 4, 3, '2021-01-08'),
(38, 22, 3, 2, '2021-01-09'),
(91, 22, 2, 1, '2021-01-25'),
(16, 22, 3, 2, '2021-02-23'),
(71, 22, 2, 1, '2021-04-02'),
(11, 22, 2, 1, '2021-04-24'),
(74, 22, 2, 1, '2021-05-11'),
(86, 22, 3, 2, '2021-05-18'),

(62, 23, 2, 1, '2020-09-03'),
(51, 23, 4, 3, '2020-11-07'),
(78, 23, 4, 3, '2020-11-19'),
(76, 23, 3, 2, '2020-11-23'),
(99, 23, 5, 3, '2020-12-02'),
(3, 23, 5, 3, '2020-12-06'),
(16, 23, 2, 1, '2020-12-14'),
(33, 23, 3, 2, '2020-12-23'),
(95, 23, 3, 2, '2020-12-26'),
(55, 23, 4, 3, '2021-01-12'),
(8, 23, 3, 2, '2021-01-17'),
(43, 23, 3, 2, '2021-01-28'),
(63, 23, 3, 2, '2021-02-05'),
(62, 23, 2, 1, '2021-02-12'),
(49, 23, 3, 2, '2021-02-21'),
(6, 23, 3, 2, '2021-02-23'),
(95, 23, 2, 1, '2021-04-24'),
(52, 23, 4, 3, '2021-05-04'),
(65, 23, 4, 3, '2021-05-13'),
(20, 23, 4, 3, '2021-05-28'),

(25, 24, 5, 3, '2020-09-08'),
(57, 24, 5, 3, '2020-09-23'),
(43, 24, 5, 3, '2020-09-23'),
(75, 24, 5, 3, '2020-10-03'),
(5, 24, 5, 3, '2020-10-22'),
(39, 24, 2, 1, '2020-11-14'),
(52, 24, 5, 3, '2020-11-22'),
(50, 24, 5, 3, '2020-12-09'),
(86, 24, 2, 1, '2020-12-17'),
(90, 24, 2, 1, '2021-01-03'),
(26, 24, 2, 1, '2021-02-02'),
(93, 24, 2, 1, '2021-02-10'),
(87, 24, 2, 1, '2021-03-06'),
(39, 24, 2, 1, '2021-03-13'),
(76, 24, 2, 1, '2021-03-21'),
(3, 24, 5, 3, '2021-04-01'),
(15, 24, 2, 1, '2021-05-08'),
(93, 24, 5, 3, '2021-05-13'),
(2, 24, 5, 3, '2021-05-21'),
(87, 24, 2, 1, '2021-05-25'),

(45, 25, 1, 1, '2020-09-20'),
(73, 25, 2, 1, '2020-09-21'),
(59, 25, 2, 1, '2020-09-24'),
(27, 25, 2, 1, '2020-10-02'),
(60, 25, 2, 1, '2020-10-13'),
(84, 25, 1, 1, '2020-10-28'),
(17, 25, 2, 1, '2020-11-27'),
(94, 25, 2, 1, '2020-12-01'),
(65, 25, 2, 1, '2020-12-06'),
(36, 25, 2, 1, '2020-12-15'),
(39, 25, 1, 1, '2020-12-16'),
(94, 25, 2, 1, '2020-12-17'),
(53, 25, 2, 1, '2021-01-17'),
(79, 25, 2, 1, '2021-01-21'),
(2, 25, 1, 1, '2021-02-27'),
(58, 25, 1, 1, '2021-02-28'),
(76, 25, 2, 1, '2021-03-02'),
(7, 25, 2, 1, '2021-03-24'),
(68, 25, 2, 1, '2021-04-05'),
(81, 25, 1, 1, '2021-05-18'),

(30, 26, 5, 3, '2020-09-05'),
(24, 26, 2, 1, '2020-09-05'),
(64, 26, 1, 1, '2020-09-08'),
(93, 26, 4, 3, '2020-09-09'),
(94, 26, 5, 3, '2020-09-15'),
(66, 26, 1, 1, '2020-09-21'),
(83, 26, 4, 3, '2020-09-27'),
(14, 26, 4, 3, '2020-11-17'),
(43, 26, 3, 2, '2020-12-14'),
(39, 26, 5, 3, '2020-12-16'),
(13, 26, 3, 2, '2020-12-31'),
(51, 26, 2, 1, '2021-01-07'),
(64, 26, 2, 1, '2021-01-23'),
(21, 26, 1, 1, '2021-02-04'),
(39, 26, 4, 3, '2021-03-12'),
(41, 26, 2, 1, '2021-03-21'),
(73, 26, 4, 3, '2021-04-19'),
(24, 26, 3, 2, '2021-04-28'),
(47, 26, 5, 3, '2021-05-03'),
(74, 26, 4, 3, '2021-05-12'),

(47, 27, 2, 1, '2020-09-15'),
(2, 27, 3, 2, '2020-10-13'),
(32, 27, 3, 2, '2020-10-17'),
(29, 27, 3, 2, '2020-11-07'),
(91, 27, 4, 3, '2020-11-12'),
(65, 27, 2, 1, '2021-01-13'),
(67, 27, 2, 1, '2021-02-06'),
(75, 27, 1, 1, '2021-02-10'),
(42, 27, 1, 1, '2021-02-16'),
(77, 27, 2, 1, '2021-02-22'),
(74, 27, 2, 1, '2021-03-06'),
(79, 27, 2, 1, '2021-03-20'),
(61, 27, 2, 1, '2021-03-28'),
(41, 27, 2, 1, '2021-04-11'),
(15, 27, 2, 1, '2021-04-23'),
(49, 27, 2, 1, '2021-05-01'),
(66, 27, 1, 1, '2021-05-05'),
(39, 27, 2, 1, '2021-05-07'),
(47, 27, 3, 2, '2021-05-22'),
(95, 27, 4, 3, '2021-05-28'),

(33, 28, 3, 2, '2020-09-25'),
(6, 28, 3, 2, '2020-09-26'),
(11, 28, 3, 2, '2020-10-28'),
(3, 28, 4, 3, '2020-11-11'),
(33, 28, 3, 2, '2020-11-11'),
(96, 28, 4, 3, '2020-12-22'),
(93, 28, 4, 3, '2021-01-03'),
(46, 28, 4, 3, '2021-01-10'),
(76, 28, 3, 2, '2021-01-16'),
(83, 28, 4, 3, '2021-01-23'),
(69, 28, 3, 2, '2021-02-05'),
(8, 28, 3, 2, '2021-02-19'),
(40, 28, 3, 2, '2021-03-10'),
(20, 28, 4, 3, '2021-03-23'),
(79, 28, 3, 2, '2021-03-24'),
(59, 28, 3, 2, '2021-03-31'),
(90, 28, 3, 2, '2021-04-11'),
(8, 28, 3, 2, '2021-04-11'),
(9, 28, 3, 2, '2021-05-06'),
(67, 28, 3, 2, '2021-05-28'),

(2, 29, 2, 1, '2020-09-02'),
(31, 29, 3, 2, '2020-09-15'),
(14, 29, 5, 3, '2020-10-16'),
(36, 29, 5, 3, '2020-11-26'),
(84, 29, 4, 3, '2020-12-03'),
(73, 29, 2, 1, '2020-12-14'),
(100, 29, 4, 3, '2020-12-22'),
(71, 29, 3, 2, '2020-12-23'),
(23, 29, 4, 3, '2021-01-09'),
(44, 29, 2, 1, '2021-01-17'),
(43, 29, 3, 2, '2021-01-21'),
(18, 29, 3, 2, '2021-01-22'),
(8, 29, 2, 1, '2021-01-27'),
(35, 29, 4, 3, '2021-02-15'),
(83, 29, 3, 2, '2021-02-18'),
(72, 29, 5, 3, '2021-03-19'),
(84, 29, 3, 2, '2021-03-29'),
(81, 29, 2, 1, '2021-04-07'),
(70, 29, 3, 2, '2021-04-08'),
(25, 29, 3, 2, '2021-04-17'),

(23, 30, 5, 3, '2020-09-25'),
(29, 30, 1, 1, '2020-09-30'),
(7, 30, 1, 1, '2020-10-11'),
(54, 30, 1, 1, '2020-10-14'),
(85, 30, 5, 3, '2020-10-21'),
(59, 30, 5, 3, '2020-10-25'),
(3, 30, 2, 1, '2020-11-07'),
(26, 30, 1, 1, '2020-11-12'),
(34, 30, 2, 1, '2020-12-08'),
(86, 30, 2, 1, '2020-12-17'),
(3, 30, 1, 1, '2020-12-24'),
(87, 30, 1, 1, '2021-01-21'),
(40, 30, 5, 3, '2021-02-16'),
(51, 30, 2, 1, '2021-02-17'),
(23, 30, 1, 1, '2021-03-16'),
(36, 30, 1, 1, '2021-03-23'),
(17, 30, 5, 3, '2021-04-04'),
(23, 30, 2, 1, '2021-04-05'),
(92, 30, 5, 3, '2021-04-08'),
(47, 30, 2, 1, '2021-04-12')
returning *;


select max(mark_date) from mark;
select * from mark;



--  5 students with the highest GPA in all subjects.

select avg(mark) as avgMark, stud.full_name
from mark m
join subject sub on sub.id = m.id_subject
join student stud on stud.id = m.id_student
group by stud.full_name
order by avgMark desc limit 5;


--  1 student with the highest GPA in one subject.

select avg(mark) as avgMark, stud.full_name
from mark m
join subject sub on sub.id = m.id_subject
join student stud on stud.id = m.id_student
where sub.subject_name = 'English'
group by stud.full_name
order by avgMark desc limit 1;



--  average score in a group in one subject.

select avg(mark) as avgMark
from "groups" g
join student stud on g.id = stud.id_group
join mark m on stud.id = m.id_student
join subject sub on m.id_subject = sub.id
where g.group_name = 'G-2' and sub.subject_name = 'English';


--  average score in the stream.

select avg(m.mark) as avgMark
from "groups" g
join student stud on g.id = stud.id_group
join mark m on stud.id = m.id_student
where g.group_year = 2020;


-- what courses are taught by the teacher.

select sub.subject_name, t.full_name
from teacher_subject ts
join teacher t on ts.id_teacher = t.id
join subject sub on ts.id_subject = sub.id
where t.full_name = 'Frieda Evans';


-- list of students in the group.

select stud.full_name, g.group_name
from student stud
join "groups" g on stud.id_group = g.id
where g.group_name = 'G-2';


-- grades of students in a group on a subject.

select m.mark, stud.full_name, sub.subject_name
from mark m
join student stud on m.id_student = stud.id
join subject sub on m.id_subject = sub.id
join "groups" g on stud.id_group = g.id
where sub.subject_name = 'Physics' and g.group_name = 'G-1'
order by stud.full_name desc;


-- grades of students in the group on the subject in the last lesson.

select mark_date, m.mark, stud.full_name, sub.subject_name, g.group_name
from mark m
join student stud on m.id_student = stud.id
join subject sub on m.id_subject = sub.id
join "groups" g on stud.id_group = g.id
where sub.subject_name = 'Physics' and g.group_name = 'G-1' and mark_date = '2021-05-28';


-- list of courses that the student is attending.

select  sub.subject_name
from student_subject ss
join student stud on ss.id_student = stud.id
join subject sub on ss.id_subject = sub.id
where stud.full_name = 'Adam Chase';


-- list of courses that the teacher reads to the student.

select sub.subject_name
from mark m
join teacher t on m.id_teacher = t.id
join student stud on m.id_student = stud.id
join subject sub on m.id_subject = sub.id
where t.full_name = 'Vladimir Hayes' and stud.full_name = 'Adam Chase'
group by sub.subject_name;


-- the average grade given by the teacher to the student.

select avg(m.mark) as avgMark
from mark m
join teacher t on m.id_teacher = t.id
join student s on m.id_student = s.id
where t.full_name = 'Vladimir Hayes' and s.full_name = 'Liliana Johnson';

-- the average mark given by the teacher.

select avg(m.mark) as avgMark
from mark m
join teacher t on m.id_teacher = t.id
join student s on m.id_student = s.id
where t.full_name = 'Vladimir Hayes'